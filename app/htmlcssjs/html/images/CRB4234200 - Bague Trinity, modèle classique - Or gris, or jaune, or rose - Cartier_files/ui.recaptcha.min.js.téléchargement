define(["ytos.domlib"],function(a){return yTos.utils.namespace("yTos.helpers.UI.Recaptcha"),yTos.helpers.UI.Recaptcha=yTos.helpers.base.extend({initialize:function(){var a=this.$el.find("[data-ytos-recaptcha-opt]").data();if(a){var b=a.ytosRecaptchaOpt;if(3===b.version)return this.renderRecaptchaV3(b);var c=this.$el.find(".g-recaptcha, #recaptcha_widget");0!==c.length&&(1===b.version?this.renderRecaptchaV1(c,b):this.renderRecaptchaV2(c,b))}},renderRecaptchaV1:function(a,b){var c=window.location.protocol+"//"+b.url;require([c],function(){this.$el.find("#recaptcha_widget").length>0&&("custom"===b.theme.toLowerCase()&&(window.Recaptcha._add_css=function(){}),window.Recaptcha.create(b.publickey,"recaptcha_widget",{theme:b.theme.toLowerCase()}))}.bind(this))},renderRecaptchaV2:function(a,b){var c=window.location.protocol+"//"+b.url;require([c],function(){window.grecaptcha.ready(function(){window.grecaptcha.render(a[0],{sitekey:a.data("sitekey"),callback:this.recaptchaCallback.bind(this),theme:b.theme})}.bind(this))}.bind(this))},renderRecaptchaV3:function(b){a("#recaptchav3-badge-position").length||a("body").append('<div id="recaptchav3-badge-position"></div>'),require([b.url],function(){window.grecaptcha.ready(function(){"undefined"==typeof yTos.configuration.Recaptchav3ClientId&&(yTos.configuration.Recaptchav3ClientId=window.grecaptcha.render("recaptchav3-badge-position",{sitekey:b.publickey,badge:yTos.configuration.RecaptchaV3BadgePosition,size:"invisible"})),window.grecaptcha.execute(yTos.configuration.Recaptchav3ClientId)})}),yTos.configuration.RecaptchaV3ShowOnlyDisclaimer&&(a("#recaptchav3-badge-position").css("visibility","hidden"),this.$("[data-ytos-recaptcha-disclaimer]").removeClass("hidden"))},recaptchaCallback:function(){this.notify("yTos::UI.recaptcha::ValidationSucceded")},destroy:function(){window.grecaptcha&&("number"==typeof this.captchaInstanceId&&grecaptcha.reset(this.captchaInstanceId),a(".pls-container").remove()),this._super()}}),$Y.notify("yTos::HelperParsed::ui.recaptcha",yTos.helpers.UI.Recaptcha),yTos.helpers.UI.Recaptcha});