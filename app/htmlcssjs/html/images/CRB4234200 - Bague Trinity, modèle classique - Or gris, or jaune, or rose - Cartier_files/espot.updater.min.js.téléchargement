define([],function(){return yTos.utils.namespace("yTos.helpers.Espot.Updater"),yTos.helpers.Espot.Updater=yTos.helpers.base.extend({initialize:function(){},refreshAfterInitialization:function(){this.updateEspot()},globalMessages:{"yTos::Account::UserLoggedIn":"updateEspot","yTos::Account::UserLoggedOut":"updateEspot"},updateEspot:function(){var a=$Y.pick(["espotName","viewName","siteCode"],this.options);this._internalUpdate(a)},_internalUpdate:function(a){this.getHTML(this.options.updateRoute,{data:a,success:function(a){this.notify("yTos::Espot::EspotUpdated",{$el:a},{scope:this.scope})}.bind(this),error:function(a){this.notify("yTos::Espot::EspotUpdateError",{$el:a},{scope:this.scope})}.bind(this),autoUpdate:!0})}}),yTos.helpers.Espot.Updater});