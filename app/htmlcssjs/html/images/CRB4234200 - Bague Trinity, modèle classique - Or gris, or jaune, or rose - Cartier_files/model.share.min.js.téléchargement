define("replaceColorMiddleware",(function(){"use strict";return function(e,t){return e.replace(/(_cod)(\d+([a-z-A-Z]{2})?)(\.html)/i,"$1"+t.get("colorPartNumber")+"$4")}})),define("ytos.share",["replaceColorMiddleware"],(function(){"use strict";return yTos.utils.namespace("yTos.models.Share"),yTos.models.Share=yTos.models.base.extend({initialize:function(){const e=this.getShareModelFromUrl();this.updateModel(e)},getShareModelFromUrl:function(){const e=$Y.queryStringToJson(window.location.search.substring(1))||{};return $Y.evalJson(e.share)||{}},save:function(e,t,o){if(void 0===t||null==t)return;this.set(e,t);let r=this.generateNewUrl(e,t);"function"==typeof o&&(r=o(r,this)),history.replaceState(this.attributes,null,r)},generateNewUrl:function(){const e=window.location,t=$Y.queryStringToJson(e.search.substring(1))||{};let o=e.origin+e.pathname;return t.share=JSON.stringify(this.attributes,(function(e,t){return t||void 0})),$Y.keys(t).length>0&&(o+="?"+$Y.jsonToQueryString(t)),e.hash&&(o+=e.hash),o},updateModel:function(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.set(t,e[t])}}),yTos.models.ShareCollection=yTos.helpers.createCollection(yTos.models.Share,"share"),yTos.models.Share}));